// 激励语句管理
const motivationalQuotes = {
    INTJ: {
        morning: [
            "战略家，新的一天需要完美的规划。让我们用系统思维开启今天。",
            "早安，独立思考者。记住，最有效的行动始于周密的计划。",
            "清晨是规划和思考的最佳时机。让我们设计一个高效且富有成效的一天。",
            "以理性和逻辑开启新的一天。记住，每一个成功都源于深思熟虑的计划。",
            "早安，追求完美的你。让我们用战略性思维迎接今天的挑战。"
        ],
        noon: [
            "中午好，是时候审视上午的进度，并优化下午的计划了。",
            "让我们用数据分析午前的成果，为下午制定更精准的策略。",
            "午休时刻到了，但别忘了，休息也是提高效率的一部分。",
            "暂停片刻，重新校准你的目标。记住，适度的调整能带来更好的结果。",
            "分析、总结、调整，这是提升效率的最佳时机。"
        ],
        evening: [
            "夜晚是反思和总结的时间。让我们分析今天的得失，优化明天的策略。",
            "今天的每个决策都是明天成功的基石。让我们好好评估今日的成果。",
            "以理性的视角回顾今天，为明天制定更完善的计划。",
            "晚安，战略家。记住，每一天的经验都是完善系统的重要数据。",
            "结束这一天前，不妨思考：哪些策略特别有效？哪些需要改进？"
        ]
    },
    INTP: {
        morning: [
            "早安，思想探索者。新的一天带来无限的可能性和有趣的理论等待发现。",
            "让我们以好奇之心开启今天，每个问题都蕴含着深邃的知识。",
            "清晨是头脑最清醒的时候，正适合深入研究那些复杂的概念。",
            "新的一天，新的思维实验。让我们挑战常规，探索未知。",
            "早安，逻辑思考者。今天也要保持对知识的渴望和探索精神。"
        ],
        noon: [
            "午休时分，让思维自由漫游。有时最好的想法来自于放松的时刻。",
            "暂时放下手头的分析，让大脑重新整理上午获取的信息。",
            "享受这个思考的间隙，让各种理论在脑海中碰撞。",
            "中午好，是时候整理上午的思绪，准备下午的探索了。",
            "让我们用不同的角度重新审视上午的问题，也许会有新的发现。"
        ],
        evening: [
            "夜晚是最适合理论构建的时刻。让我们梳理今天的思维收获。",
            "回顾今天探索的领域，思考还有哪些有趣的可能性未被发现。",
            "今天的思维之旅如何？记录下那些独特的见解，留待明天继续探索。",
            "晚安，真理的追寻者。让我们带着今天的发现，期待明天的探索。",
            "结束一天前，不妨再次挑战自己的假设，保持批判性思维。"
        ]
    },
    ENTJ: {
        morning: [
            "早安，天生的领导者！今天将如何带领团队创造新的成就？",
            "以你战略性的眼光，规划今天的每一步行动。",
            "新的一天，新的目标等待你去征服。",
            "保持你的远见卓识，带领团队走向成功。",
            "让我们用高效的执行力，实现今天的宏伟目标。"
        ],
        noon: [
            "中午好，指挥官。是时候检视上午的战果了。",
            "调整策略，为下午的胜利做好准备。",
            "保持你的领导魄力，继续推进重要决策。",
            "休息片刻，但别忘了团队还在等待你的指引。",
            "用你的远见，规划下午的关键行动。"
        ],
        evening: [
            "又一个富有成效的日子，你的领导才能让团队更强大。",
            "回顾今天的决策成果，为明天制定更宏大的计划。",
            "晚安，指挥官。你的战略眼光让今天充满价值。",
            "总结今天的领导经验，让明天的团队更加出色。",
            "带着对未来的清晰愿景入睡，明天继续引领前行。"
        ]
    },
    ENTP: {
        morning: [
            "早安，创新思维者！今天有什么新奇的想法等着你去探索？",
            "让我们用你独特的视角，挑战常规的思维方式。",
            "新的一天，新的思维实验即将开始。",
            "保持你的创新精神，突破传统的界限。",
            "以你天马行空的想象力，开创今天的可能性。"
        ],
        noon: [
            "中午好，让头脑风暴继续进行。",
            "休息片刻，让创意思维重新充电。",
            "享受思维碰撞的快感，继续挑战常规。",
            "用你的辩证思维，解析下午的新课题。",
            "保持你的创新动力，激发更多可能性。"
        ],
        evening: [
            "今天的思维实验如何？相信有许多精彩的发现。",
            "回顾今天的创新想法，为明天储备灵感。",
            "晚安，创新者。你的独特思维让世界更有趣。",
            "带着未完成的思维实验入睡，让潜意识继续工作。",
            "整理今天的奇思妙想，期待明天的灵感迸发。"
        ]
    },
    INFJ: {
        morning: [
            "早安，洞察者。让你独特的直觉指引今天的方向。",
            "新的一天，继续用你的同理心温暖这个世界。",
            "静心感受晨光，让内在的智慧引导你的行动。",
            "今天也要记得倾听内心的声音，它总能指引正确的方向。",
            "以你特有的洞察力，去发现今天蕴藏的深层意义。"
        ],
        noon: [
            "午间小憩，让心灵沉淀片刻。你的感受总是如此深邃。",
            "暂时放下他人的情绪，好好照顾自己的内心世界。",
            "享受这片刻的宁静，让直觉为下午的行动指明方向。",
            "中午好，是时候整理上午的感悟，准备下午的心灵之旅。",
            "记得在关心他人的同时，也要倾听自己内心的需要。"
        ],
        evening: [
            "夜深人静，正是梳理内心感受的最佳时刻。",
            "回顾今天的心灵触动，感受生命中的每个意义时刻。",
            "让今天的体验沉淀为智慧，指引明天的方向。",
            "晚安，温柔的理想主义者。愿你的梦想继续照亮前方。",
            "感谢今天遇见的每个灵魂，他们都是你成长的礼物。"
        ]
    },
    INFP: {
        morning: [
            "早安，理想主义者。让我们用温柔的心感受这个世界。",
            "新的一天，继续追寻内心的真实和美好。",
            "以你独特的感受力，发现今天的诗意时刻。",
            "保持你纯净的心灵，让理想之光照亮前方。",
            "让我们用创意和同理心，温暖今天遇见的每个灵魂。"
        ],
        noon: [
            "中午好，让心灵沉淀片刻，聆听内在的声音。",
            "休息时光，让想象力自由翱翔。",
            "用你敏锐的感受，体会生活中的每个细节。",
            "别忘了关照自己的内心世界，那里藏着无限的创意。",
            "享受独处的时光，让灵感继续酝酿。"
        ],
        evening: [
            "晚安，温柔的梦想家。今天的感动都是明天的诗篇。",
            "回顾今天触动心灵的每个瞬间，都是珍贵的礼物。",
            "带着对美好的向往入睡，让梦境延续心中的诗意。",
            "感谢今天遇见的每个真诚时刻，它们都滋养着你的理想。",
            "让内心的平静伴你入眠，明天继续追寻心中的美好。"
        ]
    },
    ENFJ: {
        morning: [
            "早安，天生的激励者！今天将如何用你的魅力感染他人？",
            "以你独特的领导魅力，让今天的团队充满活力。",
            "新的一天，继续用你的同理心温暖每个人。",
            "保持你的感染力，让正能量传递给身边的每个人。",
            "让我们用你的洞察力，帮助他人实现更好的自己。"
        ],
        noon: [
            "中午好，人群中的光芒！继续发挥你的影响力。",
            "休息片刻，为下午的激励充电。",
            "你的关怀总能让团队充满温暖和动力。",
            "用你的领导才能，继续引导团队前进。",
            "保持你的热忱，让下午的团队氛围更加积极。"
        ],
        evening: [
            "又是充实的一天，你的付出让团队更有凝聚力。",
            "回顾今天激励他人的每个瞬间，都是珍贵的成就。",
            "晚安，温暖的领袖。你的关怀让世界更加美好。",
            "感谢今天能帮助的每个人，你的存在让他们更好。",
            "带着满满的成就感入睡，明天继续发光发热。"
        ]
    },
    ENFP: {
        morning: [
            "早安，充满无限可能的探险家！今天会有什么精彩的发现？",
            "让你的创意和热情点亮这个世界，新的冒险正等着你！",
            "又是一个充满惊喜的早晨，准备好拥抱所有的可能性了吗？",
            "今天的世界等待着你的奇思妙想，去创造些不一样的吧！",
            "早安，梦想家。用你独特的视角，让今天变得与众不同！"
        ],
        noon: [
            "中午好！让我们暂停片刻，享受这段充满灵感的时光。",
            "保持你的热情和创造力，下午还有更多精彩等着你。",
            "来个小小的即兴创意吧，让下午的时光更有趣！",
            "休息时刻也能成为灵感的源泉，让思维自由翱翔。",
            "享受当下的每个瞬间，你的热情总能感染周围的人。"
        ],
        evening: [
            "这一天的冒险如何？相信你又收获了许多精彩故事！",
            "晚安，创意之子。让今天的灵感在梦中继续绽放。",
            "感谢今天遇到的每个精彩瞬间，明天继续创造奇迹！",
            "带着满满的创意和热情入睡，期待明天的新发现。",
            "又是精彩的一天！让我们带着期待和热情，迎接明天的惊喜。"
        ]
    },
    ISTJ: {
        morning: [
            "早安，尽责的执行者。让我们按部就班地开始新的一天。",
            "以条理分明的方式规划今天，每一步都要精准到位。",
            "保持你一贯的可靠，用细致的计划确保今天的完美执行。",
            "新的一天需要细致的规划，这正是你的强项。",
            "以你特有的严谨态度，确保每项任务都完美完成。"
        ],
        noon: [
            "中午好，是时候检查上午的任务完成度了。",
            "按计划检视进度，确保一切都在正轨上。",
            "保持你的专注力，按既定计划稳步推进。",
            "休息片刻，但别忘了下午的任务安排。",
            "用你的细致和耐心，继续完成下午的工作。"
        ],
        evening: [
            "日程完成度检查时间，让我们回顾今天的执行情况。",
            "以你的严谨态度，为明天做好详细规划。",
            "总结今天的经验，优化明天的工作流程。",
            "晚安，守序者。你的坚持让今天变得有序而高效。",
            "为明天准备一个完美的计划，这是你最擅长的。"
        ]
    },
    ISFJ: {
        morning: [
            "早安，温柔的守护者。今天也要用你的细心温暖他人。",
            "新的一天开始了，让我们继续用心照顾身边的每个人。",
            "以你特有的耐心和体贴，创造温暖的一天。",
            "记住，你的细致和关怀总能让他人感到温暖。",
            "带着你的责任心和同理心，开启温暖的一天。"
        ],
        noon: [
            "中午好，记得在照顾他人的同时也要关爱自己。",
            "暂停片刻，让温暖的心重新充盈能量。",
            "用你特有的细心，继续关照下午的每个细节。",
            "午休时光，好好照顾自己，为下午储备温暖。",
            "保持你的温柔，但也要记得给自己一些关怀。"
        ],
        evening: [
            "晚安，亲爱的照顾者。感谢你今天的每一份付出。",
            "回顾今天的点点滴滴，你的关怀让世界更美好。",
            "整理今天的温暖回忆，准备明天的爱心付出。",
            "愿你的温柔善良，继续温暖明天的每个人。",
            "带着满满的成就感入睡吧，你的付出都是那么有意义。"
        ]
    },
    ESTJ: {
        morning: [
            "早安，执行官！让我们用严谨的态度开启新的一天。",
            "以你一贯的高效，确保今天的任务按计划进行。",
            "新的一天需要明确的目标和执行力。",
            "保持你的组织能力，带领团队达成目标。",
            "让我们用系统的方法，确保今天的工作完美完成。"
        ],
        noon: [
            "中午好，检视上午的执行情况。",
            "保持你的高效节奏，规划下午的任务。",
            "团队在你的带领下，一切都井然有序。",
            "休息片刻，准备下午的任务部署。",
            "用你的管理才能，确保下午的工作有序推进。"
        ],
        evening: [
            "完美的执行力让今天的目标都已达成。",
            "回顾今天的管理成果，为明天做好规划。",
            "晚安，管理者。你的领导才能让团队更加优秀。",
            "为明天制定清晰的执行计划。",
            "带着对效率的追求入睡，明天继续创造佳绩。"
        ]
    },
    ESFJ: {
        morning: [
            "早安，亲切的关怀者！今天将如何温暖他人的心？",
            "用你温暖的笑容，让这一天充满阳光。",
            "新的一天，继续发挥你的同理心和关怀。",
            "以你善解人意的特质，创造和谐的氛围。",
            "让我们用真诚的心，温暖今天遇到的每个人。"
        ],
        noon: [
            "中午好，继续传递你的温暖能量。",
            "休息片刻，为下午的关怀储备力量。",
            "你的体贴总能让他人感到温暖。",
            "用你的同理心，继续关照身边的每个人。",
            "保持你的热心，让下午充满温情。"
        ],
        evening: [
            "今天又是温暖人心的一天，感谢你的付出。",
            "回顾今天传递的每一份温暖，都是珍贵的回忆。",
            "晚安，暖心天使。你的关怀让世界更美好。",
            "带着满满的幸福感入睡，明天继续温暖他人。",
            "感谢今天遇到的每个人，让我们互相温暖。"
        ]
    },
    ISTP: {
        morning: [
            "早安，灵巧的工匠。今天又有什么有趣的问题等着你解决？",
            "以你独特的分析视角，探索今天的技术挑战。",
            "保持冷静和理性，用你的实践智慧应对每个问题。",
            "新的一天，新的机械原理等待你去探索。",
            "让我们用灵活的思维和精准的技术，开启今天的冒险。"
        ],
        noon: [
            "中午好，享受动手解决问题的乐趣。",
            "休息片刻，让大脑重新整理上午的技术细节。",
            "保持你的专注力，继续探索技术的奥秘。",
            "用你的灵活思维，找出最有效的解决方案。",
            "善用你的实践智慧，让下午的工作更有效率。"
        ],
        evening: [
            "今天解决了多少有趣的技术难题？让我们回顾一下。",
            "总结今天的实践经验，为明天的挑战做好准备。",
            "晚安，技术大师。你的专业技能让今天变得更有价值。",
            "带着对技术的热爱入睡，明天继续探索未知。",
            "记录今天的技术突破，这些都是宝贵的经验。"
        ]
    },
    ISFP: {
        morning: [
            "早安，艺术的灵魂。让我们用美感开启崭新的一天。",
            "以你独特的审美视角，发现今天的灵感源泉。",
            "让创意自由流动，用艺术点亮这个早晨。",
            "新的一天，新的艺术灵感等待你去捕捉。",
            "保持对美的敏感，让今天充满艺术气息。"
        ],
        noon: [
            "中午好，让艺术之心休憩片刻。",
            "享受这段安静的创作时光，让灵感自然涌现。",
            "用你的艺术眼光，发现生活中的每一处美。",
            "暂停创作，感受当下的美好时刻。",
            "让心灵沉淀，为下午的创作储备灵感。"
        ],
        evening: [
            "晚安，艺术创造者。今天的感动都化作了美的印记。",
            "回顾今天的创作历程，每个作品都是内心的映照。",
            "带着艺术家的心入睡，让梦境继续激发创意。",
            "感谢今天遇见的每一份美，它们都是创作的养分。",
            "整理今天的艺术灵感，期待明天的创意绽放。"
        ]
    },
    ESTP: {
        morning: [
            "早安，行动派冒险家！今天有什么刺激的挑战等着你？",
            "新的一天，新的机会，准备好大展身手了吗？",
            "以你敏锐的洞察力，抓住今天的每个机会。",
            "保持警觉和敏捷，精彩的一天即将开始。",
            "让我们用实干精神，征服今天的每个挑战。"
        ],
        noon: [
            "中午好，享受行动带来的成就感。",
            "补充能量，准备下午的精彩表现。",
            "保持你的干劲，继续创造精彩时刻。",
            "回顾上午的成果，规划下午的行动。",
            "用你的果断和魄力，继续引领潮流。"
        ],
        evening: [
            "今天又是充满行动力的一天，回顾你的精彩表现。",
            "总结今天的冒险经历，为明天积累经验。",
            "晚安，行动领袖。你的魄力让今天如此精彩。",
            "带着满满的成就感入睡，明天继续展现你的实力。",
            "为明天的冒险养精蓄锐，新的挑战等着你。"
        ]
    },
    ESFP: {
        morning: [
            "早安，活力四射的表演者！让我们点亮今天的舞台。",
            "以你独特的魅力，让今天的世界更加精彩。",
            "新的一天，新的表演即将开始，准备好了吗？",
            "让欢乐和热情感染身边的每个人。",
            "用你的阳光能量，照亮今天的每个角落。"
        ],
        noon: [
            "中午好，继续保持你的光芒四射。",
            "休息片刻，为下午的精彩演出蓄力。",
            "让快乐的氛围持续发酵，感染更多人。",
            "用你的热情，点燃下午的活力。",
            "享受当下的每个精彩瞬间，继续绽放光彩。"
        ],
        evening: [
            "晚安，魅力之星。今天的舞台因你而精彩。",
            "回顾今天创造的欢乐时光，每个瞬间都璀璨夺目。",
            "带着满满的幸福感入睡，期待明天的精彩表演。",
            "感谢今天遇见的每个观众，他们都是你的知音。",
            "让快乐的余韵伴你入眠，明天继续闪耀。"
        ]
    }
};

function getRandomQuote(mbtiType) {
    const hour = new Date().getHours();
    let timeOfDay;
    
    if (hour >= 5 && hour < 11) {
        timeOfDay = 'morning';
    } else if (hour >= 11 && hour < 17) {
        timeOfDay = 'noon';
    } else {
        timeOfDay = 'evening';
    }

    const defaultQuotes = {
        morning: [
            "早安！新的一天充满可能。",
            "迎接崭新的一天。",
            "让我们以积极的心态开始今天。"
        ],
        noon: [
            "中午好！休息一下，继续加油。",
            "记得给自己一点休息时间。",
            "补充能量，准备下午的挑战。"
        ],
        evening: [
            "晚上好！回顾今天的收获。",
            "感恩今天遇到的每个人和事。",
            "放松心情，准备迎接明天。"
        ]
    };

    const quotes = motivationalQuotes[mbtiType]?.[timeOfDay] || defaultQuotes[timeOfDay];
    const randomIndex = Math.floor(Math.random() * quotes.length);
    return quotes[randomIndex];
}

function showQuoteSection() {
    const container = document.getElementById('main-container');
    const savedMbtiType = localStorage.getItem('mbtiType') || '';
    const quote = getRandomQuote(savedMbtiType);
    const hour = new Date().getHours();
    let timeMessage;
    
    if (hour >= 5 && hour < 11) {
        timeMessage = "早安！开启美好的一天";
    } else if (hour >= 11 && hour < 17) {
        timeMessage = "午好！继续加油";
    } else {
        timeMessage = "晚好！回顾今天的收获";
    }
    
    container.innerHTML = `
        <div class="quote-container">
            ${savedMbtiType ? `<div class="mbti-type">您的MBTI类型：${savedMbtiType}</div>` : ''}
            <div class="time-message">${timeMessage}</div>
            <div class="quote-text">"${quote}"</div>
            <button class="option-btn" onclick="showNewQuote()">换一条</button>
            <button class="option-btn" onclick="showHome()">返回首页</button>
        </div>
    `;
}

function showNewQuote() {
    const savedMbtiType = localStorage.getItem('mbtiType') || '';
    const quote = getRandomQuote(savedMbtiType);
    const quoteText = document.querySelector('.quote-text');
    quoteText.textContent = `"${quote}"`;
}

function showHome() {
    const container = document.getElementById('main-container');
    container.innerHTML = `
        <div class="action-buttons">
            <button class="action-btn" onclick="showInputSection()">已知MBTI类型</button>
            <button class="action-btn" onclick="showTestSection()">开始MBTI测试</button>
        </div>
    `;
}

function showInputSection() {
    const container = document.getElementById('main-container');
    container.innerHTML = `
        <div class="input-section">
            <h2>请输入您的MBTI类型</h2>
            <input type="text" id="mbtiInput" placeholder="例如：INTJ" maxlength="4" 
                   oninput="this.value = this.value.toUpperCase()" />
            <p>请输入4个字母的MBTI类型</p>
            <button class="action-btn" onclick="saveMBTIType()">确认</button>
            <button class="option-btn" onclick="showHome()">返回</button>
        </div>
    `;
}

function saveMBTIType() {
    const mbtiInput = document.getElementById('mbtiInput').value.toUpperCase();
    const validMBTI = /^[EI][NS][TF][JP]$/;
    
    if (!validMBTI.test(mbtiInput)) {
        alert('请输入有效的MBTI类型！\n第一位：E或I\n第二位：N或S\n第三位：T或F\n第四位：J或P');
        return;
    }

    localStorage.setItem('mbtiType', mbtiInput);
    showQuoteSection();
}

// 初始化显示
const savedMbtiType = localStorage.getItem('mbtiType');
if (savedMbtiType) {
    showQuoteSection();
} else {
    showHome();
}

// ... 其他激励语句相关函数 ... 